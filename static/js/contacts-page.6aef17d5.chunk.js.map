{"version":3,"file":"static/js/contacts-page.6aef17d5.chunk.js","mappings":"wPAEe,SAASA,EAAgBC,EAAKC,GAC3C,OAA0BC,EAAAA,EAAAA,WACxB,kCAAMC,KAAKC,MAAMC,OAAOC,aAAaC,QAAQP,WAA7C,QAAsDC,KADxD,eAAOO,EAAP,KAAcC,EAAd,KAQA,OAJAC,EAAAA,EAAAA,YAAU,WACRL,OAAOC,aAAaK,QAAQX,EAAKG,KAAKS,UAAUJ,MAC/C,CAACR,EAAKQ,IAEF,CAACA,EAAOC,GCVjB,MAA4B,+BAA5B,EAAmE,2BAAnE,EAAqG,0BAArG,EAAsI,0BAAtI,EAAyK,4B,SCM1J,SAASI,IACtB,MAAwBd,EAAgB,OAAQ,IAAhD,eAAOe,EAAP,KAAaC,EAAb,KACA,EAA4BhB,EAAgB,SAAU,IAAtD,eAAOiB,EAAP,KAAeC,EAAf,KACA,GAAmDC,EAAAA,EAAAA,MAAnD,eAAOC,EAAP,KAAmCC,EAAnC,KAAwBC,UAChBC,GAASC,EAAAA,EAAAA,MAATD,KAEFE,EAAY,mCAAG,WAAMC,GAAN,4EACnBA,EAAEC,iBACIC,EAAa,CAAEb,KAAAA,EAAME,OAAAA,IAErBY,EAAiBN,EAAKO,MAC1B,SAAAC,GAAG,OAAIA,EAAIhB,KAAKiB,gBAAkBjB,EAAKiB,mBAGvCC,MAAM,GAAD,OAAIlB,EAAJ,4BAEFc,EAVc,0CAYTT,EAAcQ,GAZL,iEAiBnBM,IAjBmB,0DAAH,sDAmBZA,EAAQ,WACZlB,EAAQ,IACRE,EAAU,KAGZ,OACE,gBAAKiB,UAAWC,EAAhB,UACE,kBAAMC,KAAK,SAASC,SAAUb,EAAcU,UAAWC,EAAvD,WACE,mBAAOD,UAAWC,EAAlB,WACE,iBAAMD,UAAWC,EAAjB,mBACA,kBACEC,KAAK,OACLtB,KAAK,OACLwB,QAAQ,yHACRC,MAAM,yIACNC,UAAQ,EACRC,SAAU,SAAAhB,GAAC,OAAIV,EAAQU,EAAEiB,OAAOC,QAChCA,MAAO7B,QAGX,mBAAOoB,UAAWC,EAAlB,WACE,iBAAMD,UAAWC,EAAjB,qBACA,kBACEC,KAAK,MACLtB,KAAK,SACLwB,QAAQ,+FACRC,MAAM,+FACNC,UAAQ,EACRC,SAAU,SAAAhB,GAAC,OAAIR,EAAUQ,EAAEiB,OAAOC,QAClCA,MAAO3B,QAIX,mBACEkB,UAAWC,EACXC,KAAK,SACLQ,UAAW9B,IAASE,GAAUI,EAHhC,SAKGA,EAAa,4BAAyB,qB,wBCrEjD,EAAwB,sBAAxB,EAAqD,qBCGtC,SAASyB,IACtB,IAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAASC,EAAAA,EAAAA,IAAYC,EAAAA,IAC3B,OACE,mBAAOhB,UAAWC,EAAlB,WACE,iBAAMD,UAAWC,EAAjB,oCACA,kBACEgB,YAAY,SACZf,KAAK,OACLO,MAAOK,EACPP,SAAU,SAAAhB,GAAC,OAAIqB,GAASM,EAAAA,EAAAA,IAAU3B,EAAEiB,OAAOC,cCbnD,MAAuB,wBAAvB,EAAsD,wBCAtD,EAA4D,8BCG7C,SAASU,EAAT,GAA8C,IAArBC,EAAoB,EAApBA,GAAIxC,EAAgB,EAAhBA,KAAME,EAAU,EAAVA,OAChD,GAAmDuC,EAAAA,EAAAA,MAAnD,eAAOC,EAAP,KAAmCC,EAAnC,KAAwBpC,UACxB,OACE,gCACGP,EADH,MACYE,GACV,mBACEkB,UAAWC,EACXC,KAAK,SACLsB,QAAS,kBAAMF,EAAcF,IAC7BV,SAAUa,EAJZ,SAMGA,EAAa,eAAiB,c,cCTxB,SAASE,IACtB,OAA6BpC,EAAAA,EAAAA,MAArBD,EAAR,EAAQA,KAAMsC,EAAd,EAAcA,WAERZ,GAASC,EAAAA,EAAAA,IAAYC,EAAAA,IAC3B,OACE,gBAAIhB,UAAWC,EAAf,UACGyB,IAAc,qFACdtC,IACCuC,EAAAA,EAAAA,IAAiBvC,EAAM0B,GAAQc,KAAI,gBAAGR,EAAH,EAAGA,GAAIxC,EAAP,EAAOA,KAAME,EAAb,EAAaA,OAAb,OACjC,eAAIkB,UAAWC,EAAf,UACE,SAACkB,EAAD,CAAevC,KAAMA,EAAME,OAAQA,EAAQsC,GAAIA,KADrBA,SCXvB,SAASS,IACtB,OACE,iCACE,SAAClD,EAAD,KACA,SAACgC,EAAD,KACA,SAACc,EAAD","sources":["hooks/useLocalStorage.js","webpack://goit-react-hw-08-phonebook/./src/components/ContactForm/ContactForm.module.css?b5b2","components/ContactForm/ContactForm.js","webpack://goit-react-hw-08-phonebook/./src/components/Filter/Filter.module.css?fad1","components/Filter/Filter.js","webpack://goit-react-hw-08-phonebook/./src/components/Phonebook/Phonebook.module.css?3a02","webpack://goit-react-hw-08-phonebook/./src/components/PhonebookItem/PhonebookItem.module.css?0081","components/PhonebookItem/PhonebookItem.js","components/Phonebook/Phonebook.js","pages/ContactsPage.js"],"sourcesContent":["import { useState, useEffect } from 'react';\n\nexport default function useLocalStorage(key, defaultValue) {\n  const [state, setState] = useState(\n    () => JSON.parse(window.localStorage.getItem(key)) ?? defaultValue\n  );\n\n  useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(state));\n  }, [key, state]);\n\n  return [state, setState];\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"ContactForm_container__qpJ1N\",\"input\":\"ContactForm_input__Bl93P\",\"span\":\"ContactForm_span__w4N46\",\"form\":\"ContactForm_form__dhl+T\",\"button\":\"ContactForm_button__eSwX9\"};","import { useCreateContactMutation } from 'redux/contacts/contactsApi';\nimport { useFetchContactsQuery } from 'redux/contacts/contactsApi';\n// import { toast } from 'react-toastify';\nimport useLocalStorage from 'hooks/useLocalStorage';\nimport 'react-toastify/dist/ReactToastify.css';\nimport s from './ContactForm.module.css';\n\nexport default function ContactForm() {\n  const [name, setName] = useLocalStorage('name', '');\n  const [number, setNumber] = useLocalStorage('number', '');\n  const [createContact, { isLoading: isCreating }] = useCreateContactMutation();\n  const { data } = useFetchContactsQuery();\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const newContact = { name, number };\n    // console.log(data);\n    const isExistContact = data.find(\n      dat => dat.name.toLowerCase() === name.toLowerCase()\n    );\n    if (isExistContact) {\n      alert(`${name} is already in contacts`);\n    }\n    if (!isExistContact) {\n      try {\n        await createContact(newContact);\n        // toast.success(`${name} add in contacts`);\n      } catch (error) {}\n    }\n\n    reset();\n  };\n  const reset = () => {\n    setName('');\n    setNumber('');\n  };\n\n  return (\n    <div className={s.container}>\n      <form type=\"submit\" onSubmit={handleSubmit} className={s.form}>\n        <label className={s.input}>\n          <span className={s.span}>Name</span>\n          <input\n            type=\"text\"\n            name=\"name\"\n            pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n            title=\"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\n            required\n            onChange={e => setName(e.target.value)}\n            value={name}\n          />\n        </label>\n        <label className={s.input}>\n          <span className={s.span}>Number</span>\n          <input\n            type=\"tel\"\n            name=\"number\"\n            pattern=\"(\\+?( |-|\\.)?\\d{1,2}( |-|\\.)?)?(\\(?\\d{3}\\)?|\\d{3})( |-|\\.)?(\\d{3}( |-|\\.)?\\d{4})\"\n            title=\"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +\"\n            required\n            onChange={e => setNumber(e.target.value)}\n            value={number}\n          />\n        </label>\n\n        <button\n          className={s.button}\n          type=\"submit\"\n          disabled={!name || !number || isCreating}\n        >\n          {isCreating ? 'Сreate a contact....' : 'Add contact'}\n        </button>\n      </form>\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"label\":\"Filter_label__vEd1E\",\"span\":\"Filter_span__lNPVu\"};","import { useSelector, useDispatch } from 'react-redux/es/exports';\nimport { getFilter, setFilter } from 'redux/contactsSlice/contactsSlice';\nimport s from './Filter.module.css';\n\nexport default function Filter() {\n  const dispatch = useDispatch();\n  const filter = useSelector(getFilter);\n  return (\n    <label className={s.label}>\n      <span className={s.span}>Find contacts by name</span>\n      <input\n        placeholder=\"Search\"\n        type=\"text\"\n        value={filter}\n        onChange={e => dispatch(setFilter(e.target.value))}\n      />\n    </label>\n  );\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Phonebook_list__S1mT+\",\"item\":\"Phonebook_item__HtWTq\",\"button\":\"Phonebook_button__QiRKB\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"PhonebookItem_item__ddbA4\",\"button\":\"PhonebookItem_button__BJ27p\"};","import s from './PhonebookItem.module.css';\nimport PropTypes from 'prop-types';\nimport { useDeleteContactMutation } from 'redux/contacts/contactsApi';\n\nexport default function PhonebookItem({ id, name, number }) {\n  const [deleteContact, { isLoading: isDeleting }] = useDeleteContactMutation();\n  return (\n    <>\n      {name} : {number}\n      <button\n        className={s.button}\n        type=\"button\"\n        onClick={() => deleteContact(id)}\n        disabled={isDeleting}\n      >\n        {isDeleting ? 'Deleting....' : 'Delete'}\n      </button>\n      {/* <button className={s.button} type=\"button\">\n        Сhange\n      </button> */}\n    </>\n  );\n}\n\nPhonebookItem.propTypes = {\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  number: PropTypes.string.isRequired,\n};\n","import s from './Phonebook.module.css';\nimport PhonebookItem from 'components/PhonebookItem/PhonebookItem';\nimport { useSelector } from 'react-redux';\nimport { getFilter, contactsFiltered } from 'redux/contactsSlice/contactsSlice';\nimport { useFetchContactsQuery } from 'redux/contacts/contactsApi';\n\nexport default function Phonebook() {\n  const { data, isFetching } = useFetchContactsQuery();\n\n  const filter = useSelector(getFilter);\n  return (\n    <ul className={s.list}>\n      {isFetching && <p>Загружаем...</p>}\n      {data &&\n        contactsFiltered(data, filter).map(({ id, name, number }) => (\n          <li className={s.item} key={id}>\n            <PhonebookItem name={name} number={number} id={id} />\n          </li>\n        ))}\n    </ul>\n  );\n}\n","import ContactForm from 'components/ContactForm/ContactForm';\nimport Filter from 'components/Filter/Filter';\nimport Phonebook from 'components/Phonebook/Phonebook';\n\nexport default function ContactPage() {\n  return (\n    <>\n      <ContactForm />\n      <Filter />\n      <Phonebook />\n    </>\n  );\n}\n"],"names":["useLocalStorage","key","defaultValue","useState","JSON","parse","window","localStorage","getItem","state","setState","useEffect","setItem","stringify","ContactForm","name","setName","number","setNumber","useCreateContactMutation","createContact","isCreating","isLoading","data","useFetchContactsQuery","handleSubmit","e","preventDefault","newContact","isExistContact","find","dat","toLowerCase","alert","reset","className","s","type","onSubmit","pattern","title","required","onChange","target","value","disabled","Filter","dispatch","useDispatch","filter","useSelector","getFilter","placeholder","setFilter","PhonebookItem","id","useDeleteContactMutation","deleteContact","isDeleting","onClick","Phonebook","isFetching","contactsFiltered","map","ContactPage"],"sourceRoot":""}